以下是你提供内容的中文翻译：

---

# Trae IDE 的遥测与隐私分析

### 对字节跳动 VSCode 分支（第二版）的后续调查

这是对 Trae —— 字节跳动基于 Visual Studio Code 的定制分支 —— 进行的精炼和更新版深度分析。

最初的调查于 2024 年 7 月 24 日进行，重点关注遥测行为和社区管理问题。本次后续调查于 2025 年 7 月 31 日进行，重新审视早期的相关指控，验证后续发展，并提供更多技术细节。

---

## 关于“自动审查”指控的回应

先说大家最关心的问题：所谓的自动审查指控。

在与 Trae 团队直接接触后，我可以明确地说明 —— 这并非审查，而是一次拙劣的自动化内容管理机制所致。当我在官方社区 Discord 分享我的研究结果时，消息因为包含“tokens”一词而被自动屏蔽 —— 该词似乎正好命中内部的关键词黑名单。

这起事件虽令人遗憾，但并不是针对性的封锁行为，而是一个配置错误的自动审查系统所引发，缺乏适当的人为监督和上下文判断。官方处理响应较慢也不够到位，但并无恶意。

值得肯定的是，Trae 团队在事后主动联系我，愿意解释问题根源、澄清系统行为，并就遥测透明性进行讨论 —— 这一态度应予以认可。

---

## 1. 网络流量与遥测概览

作为 VSCode 的分支，Trae 保留了大部分核心功能 —— 包括遥测配置界面。

![telemetry](https://i.imgur.com/6z3sXBZ.png)

*图 1：设置中明确关闭了遥测（但实际无效）*

### 主要观察到的网络端点：

* `http://mon-va.byteoversea.com`
* `http://maliva-mcs.byteoversea.com`
* `https://mon-va.byteoversea.com/monitor_browser/collect/batch/?biz_id=marscode_nativeide_us`

---

### 1.1 遥测设置测试

Trae 的遥测开关几乎只是装饰。即便关闭该功能，后台仍持续发送数据。

**关键发现：**

* 关闭遥测并未减少网络数据传出。
* 与字节跳动相关的关键服务器连接持续保持。
* 测试中单次遥测数据包体积高达 **53,606 字节**。
* 在大约 7 分钟的普通 IDE 使用中，共记录了 **500+ 次请求**，总数据量达约 **26 MB**。

---

## 2. 数据传输分析

### 2.1 批量遥测数据包

即使遥测已在设置中关闭，应用仍发送详细的遥测数据包，其中包含硬件和使用情况的元数据。

示例数据包：

```json
{
  "ev_type": "batch",
  "list": [
    {
      "ev_type": "custom",
      "payload": {
        "name": "icube_ai_ckg_request",
        "type": "event",
        "metrics": {
          "cost_time": 5
        },
        "categories": {
          "ckg_method": "refreshToken",
          "status": "Failed",
          "err_msg": "None",
          "ckg_err_code": "SUCCEED"
        }
      },
      "common": {
        "user_id": "redacted :)",
        ...
        "cpu": "Intel",
        "os_version": "Microsoft Windows 11 Pro",
        "app_version": "2.0.2"
      }
    }
  ]
}
```

尽管这些数据可能与身份验证或分析机制相关，但包含底层硬件标识符的做法属于过度收集。

---

### 2.2 用户交互遥测

详细的用户行为数据也会传输至 `maliva-mcs.byteoversea.com`。

示例事件数据：

```json
{
  "event": "icube_time_on_ide",
  "params": {
    "duration": 1964,
    "activeEditorLanguage": "markdown",
    "workspaceId": "88eda3be...",
    "isMouseOrKeyboardActive": true,
    ...
  }
}
```

这些事件追踪如下信息：

* 窗口焦点状态（聚焦/失焦）
* 正在编辑的文件扩展名
* 在编辑器中的活跃时间
* AI 辅助功能的开关状态
* 工作区、设备与用户的唯一标识符

---

## 3. 遥测收集范围总结

即使用户选择关闭遥测，Trae 仍持续上传广泛的数据信息：

| 类别          | 内容详情                     |
| ----------- | ------------------------ |
| **系统信息**    | 操作系统、CPU、内存、架构、屏幕分辨率     |
| **设备标识符**   | 多种唯一 ID：用户、设备、会话         |
| **使用数据**    | 文件类型、已打开文件、会话时长、窗口焦点状态等  |
| **性能指标**    | 响应时间、错误状态、SDK 版本         |
| **位置与区域设置** | 区域、语言、时区偏移               |
| **工作区信息**   | 项目工作区 ID、近期打开的文件（已做模糊处理） |

---

字节跳动在遥测透明性方面已有所改进，而 Trae 团队近期的主动沟通也是积极的一步。然而，“关闭遥测”必须真正发挥作用，而不是装饰按钮。

所有数据均通过常规网络监控工具捕获，结果可复现，鼓励他人继续测试验证。

---

手工撰写与研究
语言润色和排版由大模型协助完成

> Discord：**cryptux**
> X（Twitter）：[@CookingCodes](https://x.com/CookingCodes)

# Trae IDE 的遥测与隐私分析

### 针对字节跳动 VSCode 分支（MK 2）的后续调查

这是对 Trae（字节跳动定制的 VSCode 分支）进行的进一步精炼和更新的深度分析。

首次调查于 2024 年 7 月 24 日进行，重点关注遥测行为以及社区管理问题。本次于 2025 年 7 月 31 日进行的跟进调查，回顾先前的结论，验证其进展，并提供更多技术洞见。

---

## 回应“自动审查”指控

先从最关键的问题说起：所谓“自动审查”的指控。

在与 Trae 团队的直接沟通后，我可以明确澄清——这并非审查，而是一个执行得很差的内容管理机制。当我在官方 Discord 社区中分享调查结果时，我的消息因为包含 “tokens” 这个词而被自动屏蔽，似乎是触发了内部的关键字黑名单。

虽然此事件令人遗憾，但并非有意为之的针对性审查，而是一个配置错误的自动管理系统，缺乏应有的人为监督与上下文判断。工作人员的响应缓慢且不充分，但没有明显恶意。

值得肯定的是，Trae 团队事后主动联系了我，愿意解释问题、澄清系统行为，并就遥测机制的透明性展开讨论——这种态度应当受到认可。

---

## 1. 网络流量与遥测概览

作为 VSCode 的分支版本，Trae 继承了其大部分核心特性——包括遥测配置界面。

**最近的更新已经明确承认遥测机制的存在，这标志着其朝着更大透明度迈出了一步。同时，我还听说一个专门的隐私模式预计将在 8 月推出。**

![telemetry](https://i.imgur.com/P8Vs0Sd.png)

### 主要观测到的网络端点：

* `http://mon-va.byteoversea.com`
* `http://maliva-mcs.byteoversea.com`
* `https://mon-va.byteoversea.com/monitor_browser/collect/batch/?biz_id=marscode_nativeide_us`

---

### 1.1 遥测配置测试

* 遥测设置已被更新，并有传闻称团队正在开发隐私模式。
* 与字节跳动服务器的持续连接依然存在。
* 在测试中，单次遥测数据批次大小高达 **53,606 字节**。
* 在约 7 分钟的正常 IDE 使用中，记录到 **500+ 次请求**，总传输数据约 **26 MB**。

---

## 2. 数据传输分析

### 2.1 批量上传数据包

应用程序仍会发送内容详尽的遥测数据包，其中包含详细的硬件信息和使用元数据。

示例数据包：

```json
{
  "ev_type": "batch",
  "list": [
    {
      "ev_type": "custom",
      "payload": {
        "name": "icube_ai_ckg_request",
        "type": "event",
        "metrics": {
          "cost_time": 5
        },
        "categories": {
          "ckg_method": "refreshToken",
          "status": "Failed",
          "err_msg": "None",
          "ckg_err_code": "SUCCEED"
        }
      },
      "common": {
        "user_id": "redacted :)",
        ...
        "cpu": "Intel",
        "os_version": "Microsoft Windows 11 Pro",
        "app_version": "2.0.2"
      }
    }
  ]
}
```

虽然这些数据可能属于认证或分析用途，但包含底层硬件标识符的做法过于侵入。

---

### 2.2 用户交互遥测

细粒度的用户行为数据也会发送到 `maliva-mcs.byteoversea.com`。

示例事件数据：

```json
{
  "event": "icube_time_on_ide",
  "params": {
    "duration": 1964,
    "activeEditorLanguage": "markdown",
    "workspaceId": "88eda3be...",
    "isMouseOrKeyboardActive": true,
    ...
  }
}
```

这些事件追踪：

* 窗口是否处于焦点状态
* 使用的文件类型和扩展名
* 编辑器中活跃的持续时间
* 是否启用了 AI 辅助
* 工作空间、设备和用户的唯一标识符

---

## 3. 遥测范围总结

即便用户在设置中选择关闭遥测，Trae 仍会持续传输大量数据：

| 数据类别      | 内容说明                     |
| --------- | ------------------------ |
| **系统信息**  | 操作系统、CPU、内存、架构、屏幕分辨率     |
| **设备标识**  | 多个唯一 ID（用户、设备、会话等）       |
| **使用数据**  | 文件类型、打开的文件、会话时长、焦点状态等    |
| **性能指标**  | 响应时间、错误状态、SDK 版本等        |
| **地区与语言** | 区域、语言、时区偏移               |
| **工作区信息** | 项目工作区 ID、最近使用的文件（已模糊化处理） |

---

字节跳动在透明度方面已做出努力，而 Trae 团队最近的积极回应也是值得肯定的一步。他们迅速在 IDE 中的界面添加了澄清内容，据说隐私模式也在加紧开发中。

所有网络流量均使用常规抓包工具采集，调查结果可复现，建议感兴趣的用户自行测试验证。

---

*由作者亲自编写与研究*
*语言润色与格式整理由 LLM 提供支持*

> Discord：**cryptux**
> X（推特）：[@CookingCodes](https://x.com/CookingCodes)
